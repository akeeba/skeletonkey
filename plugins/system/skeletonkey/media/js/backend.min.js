"use strict";if(!window.Joomla)throw new Error("Joomla API was not properly initialised");var initSkeletonKey=function(){var a=Joomla.getOptions("plg_system_skeletonkey"),b=document.querySelectorAll("table#userList>tbody tr");if(b&&b.length>0){b.forEach(function(b){var c=b.querySelectorAll("td"),d=1*c[c.length-1].textContent;if(-1!==a.loginUsers.indexOf(d)){var e=b.querySelectorAll("th div.btn-group")[0],f=document.createElement("span");f.classList.add("icon-external-link-alt","me-1");f.setAttribute("aria-hidden","true");var g=document.createElement("span");g.textContent=Joomla.Text._("PLG_SYSTEM_SKELETONKEY_BTN_LABEL");var h=document.createElement("button");h.setAttribute("type","button");h.classList.add("btn","btn-dark","btn-sm");h.appendChild(f);h.appendChild(g);h.addEventListener("click",function(b){b.preventDefault();var c=Joomla.getOptions("system.paths"),d=Joomla.getOptions("csrf.token"),f="".concat(c?"".concat(c.base,"/index.php"):window.location.pathname,"?option=com_ajax&format=json&plugin=skeletonkey&group=system&user_id=%d").concat(d?"&".concat(d,"=1"):"");Joomla.request({url:f.replace("%d",d.toString()),onSuccess:function(b){var c=JSON.parse(b).data;c&&c[0]!==false?window.open(c.rootFull,"_blank"):Joomla.renderMessages({error:[Joomla.Text._("PLG_SYSTEM_SKELETONKEY_ERR_LOGINFAILED")]});},onError:function(){Joomla.renderMessages({error:[Joomla.Text._("PLG_SYSTEM_SKELETONKEY_ERR_LOGINFAILED_AJAX")]});}});});e.appendChild(h);}});}};initSkeletonKey();


//# sourceMappingURL=backend.min.js.map